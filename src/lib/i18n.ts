import { cookies } from "next/headers";

export type Locale = "en" | "ja";

const dictionary: Record<Locale, Record<string, string>> = {
  en: {
    "nav.collectibles": "Collectibles",
    "nav.design": "Design",
    "nav.tech": "Tech",
    "nav.art": "Art",
    "nav.home": "Home",
    "nav.hobby": "Hobby",
    "nav.user.guest": "Guest",
    "nav.user.signedInAs": "Signed in as",
    "actions.createAuction": "Create Auction",
    "actions.signIn": "Sign in",
    "actions.signOut": "Sign out",
    "actions.signingOut": "Signing out...",
    "actions.search": "Search",
    "search.placeholder": "Search auctions, categories, or creators",
    "hero.badge": "Neon Drop",
    "hero.title": "Bid faster. Win louder.",
    "hero.body":
      "High-energy marketplace for tech, collectibles, and rare parts. Built for speed and clarity.",
    "section.liveAuctions": "Live auctions",
    "section.liveAuctionsHelp": "Browse listings that are actively accepting bids.",
    "section.filters.active": "Active",
    "section.filters.pending": "Pending",
    "section.filters.closed": "Closed",
    "featured.endingSoon": "Ending soon",
    "featured.fallbackTitle": "Featured auction",
    "featured.fallbackBody": "Create a listing to see it here.",
    "auth.welcome": "Welcome back",
    "auth.welcomeBody": "Sign in to bid and manage your auctions.",
    "auth.createAccount": "Create account",
    "auth.createAccountBody": "Start listing items and placing bids.",
    "auth.passwordNote": "Passwords must be at least 8 characters.",
    "auth.alreadyHave": "I already have one",
    "auth.signInCta": "Sign in",
    "auth.createCta": "Create account",
    "label.email": "Email",
    "label.password": "Password",
    "label.title": "Title",
    "label.description": "Description",
    "label.category": "Category",
    "label.startingPrice": "Starting price (USD)",
    "label.imageFile": "Image file",
    "label.startsAt": "Starts at",
    "label.endsAt": "Ends at",
    "auction.new.title": "Create auction",
    "auction.new.body": "Listings start in pending state until admin approval.",
    "auction.new.submit": "Submit for review",
    "auction.new.cancel": "Cancel",
    "auction.new.imageNote": "Upload a local image file. We store it under public/uploads.",
    "auction.confirm.title": "Confirm auction",
    "auction.confirm.body": "Review the details before submitting.",
    "auction.confirm.submit": "Submit auction",
    "auction.confirm.cancel": "Cancel",
    "auction.detail.placeBid": "Place a bid",
    "auction.detail.signInToBid": "Sign in to place a bid.",
    "auction.detail.bidHistory": "Bid history",
    "auction.detail.bidHistoryHelp": "Most recent bids show first.",
    "auction.detail.noBids": "No bids yet.",
    "admin.title": "Admin moderation",
    "admin.body": "Approve or reject new listings before they go live.",
    "admin.noAdmin":
      "You are not an admin. The first registered user becomes admin by default.",
    "admin.noPending": "No pending auctions.",
    "footer.tagline":
      "A modern marketplace for curated auctions and high-trust bidding.",
    "footer.marketplace": "Marketplace",
    "footer.browse": "Browse",
    "footer.sell": "Sell",
    "footer.admin": "Admin",
    "footer.account": "Account",
    "footer.support": "Support",
  },
  ja: {
    "nav.collectibles": "コレクタブル",
    "nav.design": "デザイン",
    "nav.tech": "テック",
    "nav.art": "アート",
    "nav.home": "ホーム",
    "nav.hobby": "ホビー",
    "nav.user.guest": "ゲスト",
    "nav.user.signedInAs": "ログイン中",
    "actions.createAuction": "オークション作成",
    "actions.signIn": "ログイン",
    "actions.signOut": "ログアウト",
    "actions.signingOut": "ログアウト中...",
    "actions.search": "検索",
    "search.placeholder": "商品名・カテゴリ・出品者で検索",
    "hero.badge": "ネオン・ドロップ",
    "hero.title": "速く入札、強く勝つ。",
    "hero.body":
      "テック、コレクション、希少パーツに特化した高速マーケット。",
    "section.liveAuctions": "開催中のオークション",
    "section.liveAuctionsHelp": "現在入札可能な出品を表示しています。",
    "section.filters.active": "開催中",
    "section.filters.pending": "審査中",
    "section.filters.closed": "終了",
    "featured.endingSoon": "終了間近",
    "featured.fallbackTitle": "注目オークション",
    "featured.fallbackBody": "出品するとここに表示されます。",
    "auth.welcome": "おかえりなさい",
    "auth.welcomeBody": "入札や出品を管理するにはログインしてください。",
    "auth.createAccount": "アカウント作成",
    "auth.createAccountBody": "出品や入札を始めましょう。",
    "auth.passwordNote": "パスワードは8文字以上です。",
    "auth.alreadyHave": "すでにアカウントを持っています",
    "auth.signInCta": "ログイン",
    "auth.createCta": "作成する",
    "label.email": "メールアドレス",
    "label.password": "パスワード",
    "label.title": "タイトル",
    "label.description": "説明",
    "label.category": "カテゴリ",
    "label.startingPrice": "開始価格 (USD)",
    "label.imageFile": "画像ファイル",
    "label.startsAt": "開始日時",
    "label.endsAt": "終了日時",
    "auction.new.title": "オークション作成",
    "auction.new.body": "出品は承認後に公開されます。",
    "auction.new.submit": "審査に送信",
    "auction.new.cancel": "キャンセル",
    "auction.new.imageNote": "画像ファイルをアップロードします（public/uploads に保存）。",
    "auction.confirm.title": "内容確認",
    "auction.confirm.body": "送信前に内容を確認してください。",
    "auction.confirm.submit": "送信する",
    "auction.confirm.cancel": "キャンセル",
    "auction.detail.placeBid": "入札する",
    "auction.detail.signInToBid": "入札するにはログインしてください。",
    "auction.detail.bidHistory": "入札履歴",
    "auction.detail.bidHistoryHelp": "最新の入札が上に表示されます。",
    "auction.detail.noBids": "入札はまだありません。",
    "admin.title": "管理者モデレーション",
    "admin.body": "新規出品を承認または却下します。",
    "admin.noAdmin": "あなたは管理者ではありません。最初の登録者が管理者になります。",
    "admin.noPending": "審査待ちの出品はありません。",
    "footer.tagline": "信頼性の高いオークションマーケット。",
    "footer.marketplace": "マーケット",
    "footer.browse": "閲覧",
    "footer.sell": "出品",
    "footer.admin": "管理",
    "footer.account": "アカウント",
    "footer.support": "サポート",
  },
};

export async function getLocale(): Promise<Locale> {
  const cookieStore = await cookies();
  const locale = cookieStore.get("locale")?.value;
  return locale === "ja" ? "ja" : "en";
}

export function t(locale: Locale, key: string) {
  return dictionary[locale][key] ?? key;
}
